import{c as U,t as M,n as R,g as W,w as X}from"./base.8cd46ad1.js";import"./index.5a3fded9.js";import{P as Y}from"./index.b5f7e56f.js";import"./index.adda227c.js";import{B as V}from"./index.7c2cb9b8.js";import{c as E,b as F}from"./getLessonData.68adea16.js";import{m as z,A as I,v as d,u as L,o as p,f as m,E as t,i as l,t as y,F as G,h as H,g as _,D as k,e as h,p as q,c as J,I as K,G as O,S as Q,U as Z}from"./vendor.006c88a1.js";import{R as tt}from"./index.390f3268.js";import{g as et}from"./getCardsData.965411a8.js";import{_ as A,r as st}from"./index.fa85a65d.js";import"./use-touch.abe69874.js";import"./use-lazy-render.f7e708c4.js";import"./on-popup-reopen.15a0f405.js";import"./constant.50ba7d8c.js";import"./occupyImg.018cc833.js";import"./use-refs.26beffad.js";const[at,$]=U("progress"),ot={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:M,pivotColor:String,trackColor:String,strokeWidth:R,percentage:{type:R,default:0,validator:e=>e>=0&&e<=100}};var nt=z({name:at,props:ot,setup(e){const f=I(()=>e.inactive?void 0:e.color),b=()=>{const{textColor:s,pivotText:o,pivotColor:c,percentage:a}=e,n=o!=null?o:`${a}%`;if(e.showPivot&&n){const v={color:s,left:`${+a}%`,transform:`translate(-${+a}%,-50%)`,background:c||f.value};return d("span",{style:v,class:$("pivot",{inactive:e.inactive})},[n])}};return()=>{const{trackColor:s,percentage:o,strokeWidth:c}=e,a={background:s,height:W(c)},n={width:`${o}%`,background:f.value};return d("div",{class:$(),style:a},[d("span",{class:$("portion",{inactive:e.inactive}),style:n},null),b()])}}});const rt=X(nt);var lt="/assets/pass.f3c29a09.png",ct="/assets/fail.6b1a7f1d.png";const it={class:"card"},dt={class:"card-icon"},ut=["src"],pt={class:"card-name"},_t={class:"card-content"},vt={class:"content"},mt={class:"card-item-list"},ft={class:"title"},gt={class:"content"},ht=_("\u786E\u5B9A"),yt={props:{attrName:{type:String,default:()=>""}},emits:["saved"],setup(e,{emit:f}){const s=et(e.attrName);console.log(s);const o=L();function c(){const a=E(s,o.state.activeCardList);a>0?o.commit("updateCardProgress",{card:s,cardRank:a+1}):(s.curRankNum=1,o.commit("pushActiveCard",s)),f("saved")}return(a,n)=>{const v=tt,w=V;return p(),m("div",it,[t("div",null,[t("div",dt,[t("img",{src:"/src/assets/attrIcon/"+l(s).attr+".png"},null,8,ut)]),t("p",pt,y(e.attrName),1)]),t("div",_t,[t("span",vt,y(l(s).brief),1)]),t("div",mt,[(p(!0),m(G,null,H(l(s).methods,i=>(p(),m("div",{class:"list-item",key:i},[t("span",ft,y(i.methodName),1),t("span",gt,[_(y(i.methodBreif)+" ",1),d(v,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=r=>a.value=r),readonly:"","allow-half":""},null,8,["modelValue"])])]))),128))]),d(w,{class:"check-btn",round:"",type:"primary",onClick:c},{default:k(()=>[ht]),_:1})])}}};var kt=A(yt,[["__scopeId","data-v-5c113477"]]);const x=e=>(Q("data-v-0b26a1f4"),e=e(),Z(),e),bt={key:0,class:"content"},Ct={class:"description"},xt={class:"imageContainer"},wt=["src"],jt={class:"next"},Pt=_("\u4E0B\u4E00\u8282"),St={key:1,class:"content finish"},It={key:0},$t=x(()=>t("div",{class:"description"},[_("\u606D\u559C!"),t("br"),_("\u5B8C\u6210\u7AE0\u8282\u5B66\u4E60!")],-1)),Bt=x(()=>t("div",{class:"imageContainer"},[t("img",{src:lt})],-1)),Nt=_("\u8FD4\u56DE"),Rt={key:1},Vt=x(()=>t("div",{class:"description"},[_("\u5F88\u9057\u61BE!"),t("br"),_("\u672A\u80FD\u5B8C\u6210\u7AE0\u8282\u5B66\u4E60\u4EFB\u52A1!")],-1)),Lt=x(()=>t("div",{class:"imageContainer"},[t("img",{src:ct})],-1)),At=_("\u8FD4\u56DE"),Dt={setup(e){const f=L();let b=I(()=>f.state.activeModule),s=I(()=>f.state.activeLesson);console.log(s.value);const o=F(b.value,s.value),c=o.lessonContent;console.log(c);let a=h(0),n=h(0),v=h(c[0]);console.log(v.value);function w(){a.value++<c.length-1?(v.value=c[a.value],n.value=a.value/c.length*100):n.value=100}let i=h(!1),r=h(null),j=h(null);function D(){console.log(r.value);let u=r.value.getBoundingClientRect();var C=u.left+u.width/2+100,S=-(u.top+u.height/2+600);let g=!1;g==!1&&(r.value.style.display="block",r.value.style.left=u.left+r.value.clientWidth/2+"px",r.value.style.top=u.top+r.value.clientHeight/2+"px",r.value.style.transform=" scale(0.5) translateX("+C+"px)",j.value.style.transform=" scale(0.5) translateY("+S+"px)",g=!0,setTimeout(()=>{r.value.style.display="none",r.value.style.transform="translateX(0)",j.value.style.transform="translateY(0)",g=!1,i.value=!1},490))}let P=h(!0);q(n,u=>{u===100?(P.value=Math.random()<.5,i.value=!!P.value):i.value=!1});function B(){st.go(-1)}return(u,C)=>{const S=rt,g=V,T=Y;return p(),m("div",null,[d(S,{percentage:l(n),"show-pivot":!1},null,8,["percentage"]),l(n)!==100?(p(),m("div",bt,[t("div",Ct,y(l(v).content),1),t("div",xt,[t("img",{src:l(v).image},null,8,wt)]),t("div",jt,[d(g,{class:"btn",round:"",type:"primary",onClick:w},{default:k(()=>[Pt]),_:1})])])):(p(),m("div",St,[l(P)?(p(),m("div",It,[$t,Bt,d(g,{class:"btn",round:"",type:"primary",onClick:B},{default:k(()=>[Nt]),_:1})])):(p(),m("div",Rt,[Vt,Lt,d(g,{class:"btn",round:"",type:"primary",onClick:B},{default:k(()=>[At]),_:1})]))])),l(o).targetAttr||l(o).targetAttrVal?(p(),J(T,{key:2,show:l(i),"onUpdate:show":C[0]||(C[0]=N=>K(i)?i.value=N:i=N),round:"",style:{height:"100%",width:"100vw",borderRadius:0}},{default:k(()=>[t("div",{id:"test",ref_key:"flyItem",ref:r,class:"fly-item"},[t("div",{ref_key:"flyItem2",ref:j,class:"fly-item2"},[d(kt,{"attr-name":l(o).targetAttr,onSaved:D},null,8,["attr-name"])],512)],512)]),_:1},8,["show"])):O("",!0)])}}};var Zt=A(Dt,[["__scopeId","data-v-0b26a1f4"]]);export{Zt as default};
