import{c as L,t as A,n as j,d as D,w as T}from"./base.fd59f32f.js";import"./index.c59f0326.js";import{P as U}from"./index.bb7009e5.js";import"./index.28066979.js";import{B as M}from"./index.a29a0f30.js";import{c as W,b as X}from"./getLessonData.351ea145.js";import{q as Y,x as S,p,u as N,o as m,f,B as a,i,t as y,F,h as q,g as I,e as _,N as z,A as B,c as E,M as H,C as G,S as J,U as K}from"./vendor.f9b4ed9a.js";import{R as O}from"./index.67d44529.js";import{g as Q}from"./getCardsData.631b99d7.js";import{_ as R}from"./index.555c0fb9.js";import"./use-touch.f540989d.js";import"./use-lazy-render.01417c4d.js";import"./on-popup-reopen.4964c803.js";import"./constant.26cafd46.js";import"./use-refs.1326f0cb.js";const[Z,P]=L("progress"),ee={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:A,pivotColor:String,trackColor:String,strokeWidth:j,percentage:{type:j,default:0,validator:e=>e>=0&&e<=100}};var te=Y({name:Z,props:ee,setup(e){const c=S(()=>e.inactive?void 0:e.color),x=()=>{const{textColor:t,pivotText:o,pivotColor:l,percentage:s}=e,n=o!=null?o:`${s}%`;if(e.showPivot&&n){const d={color:t,left:`${+s}%`,transform:`translate(-${+s}%,-50%)`,background:l||c.value};return p("span",{style:d,class:P("pivot",{inactive:e.inactive})},[n])}};return()=>{const{trackColor:t,percentage:o,strokeWidth:l}=e,s={background:t,height:D(l)},n={width:`${o}%`,background:c.value};return p("div",{class:P(),style:s},[p("span",{class:P("portion",{inactive:e.inactive}),style:n},null),x()])}}});const se=T(te);const ae={class:"card"},oe={class:"card-icon"},ne=["src"],le={class:"card-name"},re={class:"card-content"},ce={class:"content"},ie={class:"card-item-list"},de={class:"title"},ue={class:"content"},ve={props:{attrName:{type:String,default:()=>""}},emits:["saved"],setup(e,{emit:c}){const t=Q(e.attrName);console.log(t);const o=N();function l(){const s=W(t,o.state.activeCardList);s>0?o.commit("updateCardProgress",{card:t,cardRank:s+1}):(t.curRankNum=1,o.commit("pushActiveCard",t)),c("saved")}return(s,n)=>{const d=O;return m(),f("div",ae,[a("div",null,[a("div",oe,[a("img",{src:"/src/assets/attrIcon/"+i(t).attr+".png"},null,8,ne)]),a("p",le,y(e.attrName),1)]),a("div",re,[a("span",ce,y(i(t).brief),1)]),a("div",ie,[(m(!0),f(F,null,q(i(t).methods,g=>(m(),f("div",{class:"list-item",key:g},[a("span",de,y(g.methodName),1),a("span",ue,[I(y(g.methodBreif)+" ",1),p(d,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=u=>s.value=u),readonly:"","allow-half":""},null,8,["modelValue"])])]))),128))]),a("div",{class:"check-btn",onClick:l},"\u786E\u5B9A")])}}};var pe=R(ve,[["__scopeId","data-v-fe2ff6a4"]]);const me=e=>(J("data-v-0232aab8"),e=e(),K(),e),fe={key:0,class:"content"},_e={class:"description"},ge=me(()=>a("div",{class:"imageContainer"},null,-1)),he={class:"next"},ye=I("\u4E0B\u4E00\u8282"),xe={key:1,class:"finish"},Ce={setup(e){const c=N();let x=S(()=>c.state.activeModule),t=S(()=>c.state.activeLesson);console.log(t.value);const o=X(x.value,t.value),l=o.lessonContent;console.log(l);let s=_(0),n=_(0),d=_(l[0]);c.commit("changeSubPageName",d.value.title),console.log(d.value);function g(){s.value++<l.length-1?(d.value=l[s.value],n.value=s.value/l.length*100,c.commit("changeSubPageName",d.value.title)):(c.commit("changeSubPageName","\u5B8C\u6210\u2705"),n.value=100)}let u=_(!1),r=_(null),b=_(null);function $(){console.log(r.value);let v=r.value.getBoundingClientRect();var C=v.left+v.width/2+100,k=-(v.top+v.height/2+600);let h=!1;h==!1&&(r.value.style.display="block",r.value.style.left=v.left+r.value.clientWidth/2+"px",r.value.style.top=v.top+r.value.clientHeight/2+"px",r.value.style.transform=" scale(0.5) translateX("+C+"px)",b.value.style.transform=" scale(0.5) translateY("+k+"px)",h=!0,setTimeout(()=>{r.value.style.display="none",r.value.style.transform="translateX(0)",b.value.style.transform="translateY(0)",h=!1,u.value=!1},490))}return z(n,v=>{v===100?u.value=!0:u.value=!1}),(v,C)=>{const k=se,h=M,V=U;return m(),f("div",null,[p(k,{percentage:i(n),"show-pivot":!1},null,8,["percentage"]),i(n)!==100?(m(),f("div",fe,[a("div",_e,y(i(d).content),1),ge,a("div",he,[p(h,{class:"btn",round:"",type:"primary",onClick:g},{default:B(()=>[ye]),_:1})])])):(m(),f("div",xe,"\u5B8C\u6210\u7AE0\u8282\u5B66\u4E60")),i(o).targetAttr||i(o).targetAttrVal?(m(),E(V,{key:2,show:i(u),"onUpdate:show":C[0]||(C[0]=w=>H(u)?u.value=w:u=w),round:"",style:{height:"100%",width:"100vw",borderRadius:0}},{default:B(()=>[a("div",{id:"test",ref_key:"flyItem",ref:r,class:"fly-item"},[a("div",{ref_key:"flyItem2",ref:b,class:"fly-item2"},[p(pe,{"attr-name":i(o).targetAttr,onSaved:$},null,8,["attr-name"])],512)],512)]),_:1},8,["show"])):G("",!0)])}}};var Te=R(Ce,[["__scopeId","data-v-0232aab8"]]);export{Te as default};
